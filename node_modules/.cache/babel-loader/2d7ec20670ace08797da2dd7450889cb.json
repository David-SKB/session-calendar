{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\David\\\\Documents\\\\PROJECT BELCAVE\\\\Mini_Projects\\\\studio_calendar\\\\frontend\\\\session-calendar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\David\\\\Documents\\\\PROJECT BELCAVE\\\\Mini_Projects\\\\studio_calendar\\\\frontend\\\\session-calendar\\\\src\\\\Main.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport \"./App.css\";\n//import { getTheme, getThemeClass } from \"./util\";\nimport GlobalContext from \"./context/GlobalContext\";\nimport ContextWrapper from \"./context/ContextWrapper\";\nimport App from \"./App\";\nimport EventModal from \"./components/EventModal\";\nimport './themes.css';\nimport { getAllEvents } from \"./services/EventService\";\nimport dayjs from \"dayjs\";\nfunction DataLoaded(props) {\n  console.log(\"[MAIN] [DATALOADED] RELOAD DATA VALUE: \" + props.reloadData + \" \" + props.setReloadData);\n  //const [dataSubmitted, setDataSubmitted] = useState(false);\n  console.log(\"[MAIN] LOADING DATA... \" + props.eventList);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ContextWrapper, {\n    eventList: props.eventList,\n    isDataLoaded: props.isDataLoaded,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(App, {\n    eventList: props.eventList,\n    isDataLoaded: props.isDataLoaded,\n    reloadData: props.reloadData,\n    setReloadData: props.setReloadData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  })));\n}\nfunction Main(props) {\n  //const { loadData, reloadData, setReloadData, showEventModal } = useContext(GlobalContext);\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    eventList = _useState2[0],\n    getEvents = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dataLoaded = _useState4[0],\n    setDataLoaded = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    reloadData = _useState6[0],\n    setReloadData = _useState6[1]; //const themeColor = getTheme();\n  //const themeClass = getThemeClass();\n  console.log(\"[MAIN] INIT MAIN: \" + dayjs() + \" \" + dataLoaded + \" \" + reloadData);\n\n  /*useEffect(() => {\r\n    if (dataLoaded) {\r\n      console.log(\"[MAIN] DATA LOADED IN MAIN.EFFECT: \" + dataLoaded);\r\n    }\r\n  }, [dataLoaded]);*/\n\n  useEffect(function () {\n    console.log(\"[MAIN] MAIN.EFFECT LOADING EVENTS: \" + dataLoaded);\n    getAllEvents().then(function (response) {\n      var allEvents = response;\n      getEvents(allEvents);\n      setDataLoaded(true);\n    });\n  }, []);\n  useEffect(function () {\n    if (dataLoaded) {\n      setDataLoaded(false);\n      console.log(\"[MAIN] RELOAD DATA.EFFECT: \" + reloadData);\n      getAllEvents().then(function (response) {\n        var allEvents = response;\n        getEvents(allEvents);\n        setDataLoaded(true);\n      });\n    }\n  }, [reloadData]);\n  return /*#__PURE__*/React.createElement(DataLoaded, {\n    isDataLoaded: dataLoaded,\n    eventList: eventList,\n    reloadData: reloadData,\n    setReloadData: setReloadData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  });\n}\nexport default Main;","map":{"version":3,"names":["React","useState","useContext","useEffect","GlobalContext","ContextWrapper","App","EventModal","getAllEvents","dayjs","DataLoaded","props","console","log","reloadData","setReloadData","eventList","isDataLoaded","Main","getEvents","dataLoaded","setDataLoaded","then","response","allEvents"],"sources":["C:/Users/David/Documents/PROJECT BELCAVE/Mini_Projects/studio_calendar/frontend/session-calendar/src/Main.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./App.css\";\r\n//import { getTheme, getThemeClass } from \"./util\";\r\nimport GlobalContext from \"./context/GlobalContext\";\r\nimport ContextWrapper from \"./context/ContextWrapper\";\r\nimport App from \"./App\";\r\nimport EventModal from \"./components/EventModal\";\r\nimport './themes.css';\r\nimport { getAllEvents } from \"./services/EventService\";\r\nimport dayjs from \"dayjs\";\r\n\r\nfunction DataLoaded(props) {\r\n  console.log(\"[MAIN] [DATALOADED] RELOAD DATA VALUE: \" + props.reloadData + \" \" + props.setReloadData);\r\n  //const [dataSubmitted, setDataSubmitted] = useState(false);\r\n  console.log(\"[MAIN] LOADING DATA... \" + props.eventList);\r\n  return (\r\n    <React.Fragment>\r\n      <ContextWrapper eventList={props.eventList} isDataLoaded={props.isDataLoaded}>\r\n        <App eventList={props.eventList} isDataLoaded={props.isDataLoaded} reloadData={props.reloadData} setReloadData={props.setReloadData} />\r\n      </ContextWrapper>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction Main(props) {\r\n  //const { loadData, reloadData, setReloadData, showEventModal } = useContext(GlobalContext);\r\n  const [eventList, getEvents] = useState([]);\r\n  const [dataLoaded, setDataLoaded] = useState(false);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  //const themeColor = getTheme();\r\n  //const themeClass = getThemeClass();\r\n  console.log(\"[MAIN] INIT MAIN: \" + dayjs() + \" \" + dataLoaded + \" \" + reloadData);\r\n\r\n  /*useEffect(() => {\r\n    if (dataLoaded) {\r\n      console.log(\"[MAIN] DATA LOADED IN MAIN.EFFECT: \" + dataLoaded);\r\n    }\r\n  }, [dataLoaded]);*/\r\n\r\n  useEffect(() => {\r\n    console.log(\"[MAIN] MAIN.EFFECT LOADING EVENTS: \" + dataLoaded);\r\n    getAllEvents().then((response) => {\r\n      const allEvents = response\r\n      getEvents(allEvents);\r\n      setDataLoaded(true);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (dataLoaded) {\r\n      setDataLoaded(false);\r\n      console.log(\"[MAIN] RELOAD DATA.EFFECT: \" + reloadData);\r\n      getAllEvents().then((response) => {\r\n        const allEvents = response\r\n        getEvents(allEvents);\r\n        setDataLoaded(true);\r\n      });\r\n    }\r\n  }, [reloadData]);\r\n\r\n  return (\r\n    <DataLoaded isDataLoaded={dataLoaded} eventList={eventList} reloadData={reloadData} setReloadData={setReloadData} />\r\n  );\r\n}\r\n\r\nexport default Main;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC9D,OAAO,WAAW;AAClB;AACA,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,cAAc,MAAM,0BAA0B;AACrD,OAAOC,GAAG,MAAM,OAAO;AACvB,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAO,cAAc;AACrB,SAASC,YAAY,QAAQ,yBAAyB;AACtD,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,UAAU,CAACC,KAAK,EAAE;EACzBC,OAAO,CAACC,GAAG,CAAC,yCAAyC,GAAGF,KAAK,CAACG,UAAU,GAAG,GAAG,GAAGH,KAAK,CAACI,aAAa,CAAC;EACrG;EACAH,OAAO,CAACC,GAAG,CAAC,yBAAyB,GAAGF,KAAK,CAACK,SAAS,CAAC;EACxD,oBACE,oBAAC,KAAK,CAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACb,oBAAC,cAAc;IAAC,SAAS,EAAEL,KAAK,CAACK,SAAU;IAAC,YAAY,EAAEL,KAAK,CAACM,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC3E,oBAAC,GAAG;IAAC,SAAS,EAAEN,KAAK,CAACK,SAAU;IAAC,YAAY,EAAEL,KAAK,CAACM,YAAa;IAAC,UAAU,EAAEN,KAAK,CAACG,UAAW;IAAC,aAAa,EAAEH,KAAK,CAACI,aAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACxH,CACF;AAErB;AAEA,SAASG,IAAI,CAACP,KAAK,EAAE;EACnB;EAAA,gBAC+BV,QAAQ,CAAC,EAAE,CAAC;IAAA;IAApCe,SAAS;IAAEG,SAAS;EAAA,iBACSlB,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA5CmB,UAAU;IAAEC,aAAa;EAAA,iBACIpB,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA5Ca,UAAU;IAAEC,aAAa,kBAChC;EACA;EACAH,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGJ,KAAK,EAAE,GAAG,GAAG,GAAGW,UAAU,GAAG,GAAG,GAAGN,UAAU,CAAC;;EAEjF;AACF;AACA;AACA;AACA;;EAEEX,SAAS,CAAC,YAAM;IACdS,OAAO,CAACC,GAAG,CAAC,qCAAqC,GAAGO,UAAU,CAAC;IAC/DZ,YAAY,EAAE,CAACc,IAAI,CAAC,UAACC,QAAQ,EAAK;MAChC,IAAMC,SAAS,GAAGD,QAAQ;MAC1BJ,SAAS,CAACK,SAAS,CAAC;MACpBH,aAAa,CAAC,IAAI,CAAC;IACrB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAENlB,SAAS,CAAC,YAAM;IACd,IAAIiB,UAAU,EAAE;MACdC,aAAa,CAAC,KAAK,CAAC;MACpBT,OAAO,CAACC,GAAG,CAAC,6BAA6B,GAAGC,UAAU,CAAC;MACvDN,YAAY,EAAE,CAACc,IAAI,CAAC,UAACC,QAAQ,EAAK;QAChC,IAAMC,SAAS,GAAGD,QAAQ;QAC1BJ,SAAS,CAACK,SAAS,CAAC;QACpBH,aAAa,CAAC,IAAI,CAAC;MACrB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACP,UAAU,CAAC,CAAC;EAEhB,oBACE,oBAAC,UAAU;IAAC,YAAY,EAAEM,UAAW;IAAC,SAAS,EAAEJ,SAAU;IAAC,UAAU,EAAEF,UAAW;IAAC,aAAa,EAAEC,aAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG;AAExH;AAEA,eAAeG,IAAI"},"metadata":{},"sourceType":"module"}